Bootstrap: docker
From: rocker/verse:4.2
# From: ubuntu:20.04

%post
    apt-get update && export DEBIAN_FRONTEND=noninteractive \
    && apt-get install -y apt-utils \
        openssh-client \
        gnupg2 \
        dirmngr \
        iproute2 \
        procps \
        lsof \
        htop \
        net-tools \
        psmisc \
        curl \
        wget \
        rsync \
        ca-certificates \
        unzip \
        zip \
        nano \
        vim-tiny \
        less \
        jq \
        lsb-release \
        apt-transport-https \
        dialog \
        libc6 \
        libgcc1 \
        libkrb5-3 \
        libgssapi-krb5-2 \
        libicu[0-9][0-9] \
        liblttng-ust0 \
        libstdc++6 \
        zlib1g \
        locales \
        sudo \
        ncdu \
        man-db \
        strace \
        manpages \
        manpages-dev \
        init-system-helpers \
        && apt-get -y install \
            python3-pip \
            libgit2-dev \
            libcurl4-openssl-dev \
            libssl-dev \
            libxml2-dev \
            libxt-dev \
            libfontconfig1-dev \
            libcairo2-dev \
        && apt-get autoremove -y && apt-get clean -y && rm -rf /var/lib/apt/lists/* \
        && python3 -m pip --no-cache-dir install radian \
        && install2.r --error --skipinstalled --ncpus -1 \
           languageserver \
           httpgd \
           jsonlite \
           devtools \
           usethis \
        && rm -rf /tmp/downloaded_packages \
        && curl -LO https://quarto.org/download/latest/quarto-linux-amd64.deb 
        # \
        # && apt-get install gdebi-core \
        # && gdebi quarto-linux-amd64.deb
    

